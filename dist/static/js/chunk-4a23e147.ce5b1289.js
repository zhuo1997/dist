(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a23e147"],{"2f21":function(e,t,a){"use strict";var l=a("79e5");e.exports=function(e,t){return!!e&&l(function(){t?e.call(null,function(){},1):e.call(null)})}},3347:function(e,t,a){},4167:function(e,t,a){"use strict";var l=a("ece8"),i=a.n(l);i.a},"55dd":function(e,t,a){"use strict";var l=a("5ca1"),i=a("d8e8"),s=a("4bf8"),r=a("79e5"),n=[].sort,o=[1,2,3];l(l.P+l.F*(r(function(){o.sort(void 0)})||!r(function(){o.sort(null)})||!a("2f21")(n)),"Array",{sort:function(e){return void 0===e?n.call(s(this)):n.call(s(this),i(e))}})},"6ade":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-table",{staticClass:"c-table",attrs:{data:e.tableData,border:"","m-b-10":""}},[a("el-table-column",{attrs:{label:"轮播图",width:"385",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[a("div",{staticClass:"thumbImg"},[a("img",{attrs:{src:t.thumb,alt:""}})])]}}])}),a("el-table-column",{attrs:{label:"跳转类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.jump_type_str))]}}])}),a("el-table-column",{attrs:{label:"跳转对象",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.jump_name))]}}])}),a("el-table-column",{attrs:{label:"排序权重",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.sort))]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.open(l)}}},[e._v("编辑")])]}}])})],1),a("add",{ref:"add",on:{filterChange:e.filterChange}}),a("edit",{ref:"edit",on:{filterChange:e.filterChange}})],1)],1)},i=[],s=(a("55dd"),a("dd87")),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"新增",width:"600px",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"formName",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"跳转类型",prop:"select","label-width":e.formLabelWidth}},[a("el-select",{on:{change:e.theTypeChange},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},e._l(e.selectList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),"LIST"===e.type?a("el-form-item",{attrs:{label:"选择分类",prop:"classValue","label-width":e.formLabelWidth}},[a("el-cascader",{attrs:{options:e.classOption,"change-on-select":"",props:e.classProps,clearable:""},on:{change:e.handleChange},model:{value:e.classValue,callback:function(t){e.classValue=t},expression:"classValue"}})],1):e._e(),"GOODS"===e.type?a("el-form-item",{attrs:{label:"选择商品",prop:"searchValue","label-width":e.formLabelWidth}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":e.remoteMethod,loading:e.loading},on:{change:e.goodChangeValue},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}},e._l(e.goodOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1):e._e(),a("el-form-item",{attrs:{label:"排序权重",prop:"value255","label-width":e.formLabelWidth}},[a("div",{staticClass:"block"},[a("el-slider",{attrs:{min:0,max:255},model:{value:e.value255,callback:function(t){e.value255=t},expression:"value255"}})],1)]),a("el-form-item",{staticStyle:{"margin-left":"50px"},attrs:{label:"添加图片"}},[a("label",{staticStyle:{display:"block",height:"100px",width:"100px",border:"1px dashed #666",cursor:"pointer","margin-left":"70px"},attrs:{for:"files"}},[e.url?e._e():a("p",{staticStyle:{margin:"30px 0 0 15px"}},[e._v("\n          选择图片\n          "),a("i",{staticClass:"el-icon-plus"})]),a("img",{staticStyle:{height:"100px",width:"100px"},attrs:{src:e.newurl,alt:""}})]),a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"files"},on:{change:e.fileChange}})])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sure("formName")}}},[e._v("确 定")])],1)],1)},n=[],o={components:{},props:{},data:function(){return{type:"",classOption:[],classValue:[],classProps:{value:"id",label:"name",children:"children"},searchValue:"",loading:!1,goodOptions:[],jump_id:"",url:"",newurl:"",select:"",selectList:[{label:"分类",value:"CATES"},{label:"列表",value:"LIST"},{label:"商品",value:"GOODS"}],value255:255,dialogFormVisible:!1,form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:"",value255:255,select:"",jump_id:"",classValue:"",searchValue:""},formLabelWidth:"120px",rules:{jump_id:[{required:!0,message:"请输入跳转对象id",trigger:"blur"}],select:[{required:!0,message:"请选择跳转类型",trigger:"blur"}],classValue:[{required:!0,message:"请选择分类",trigger:"blur"}],searchValue:[{required:!0,message:"请选择商品",trigger:"blur"}],value255:[{required:!0,message:"请选择权重",trigger:"blur"}]}}},watch:{},computed:{},methods:{sure:function(e){var t=this;this.form.value255=this.value255,this.form.select=this.select,this.form.jump_id=this.jump_id,this.form.classValue=this.classValue,this.form.searchValue=this.searchValue,this.$refs[e].validate(function(a){if(!a)return!1;t.$http.post("/Manage/advert/add",{type:"ADVERT",thumb:t.url,sort:t.value255,jump_type:t.select,jump_id:t.jump_id}).then(function(a){t.dialogFormVisible=!1,t.$emit("filterChange"),t.$refs[e].resetFields(),t.$message({showClose:!0,message:"新增成功",type:"success"}),t.url=null,t.newurl=null,t.value255=255,t.select=null,t.jump_id=null,t.classValue=[]})})},fileChange:function(e){var t=this,a=new FormData;a.append("file",e.currentTarget.files[0]),this.$http.post("/manage/image/upload",a).then(function(e){t.url=e.data.filepath,t.newurl=e.data.urlpath})},theTypeChange:function(e){var t=this;if(this.type=e,"CATES"!=e){if("LIST"==e)this.$http.get("/Manage/Category/lists").then(function(e){t.classOption=e.data.list});else if("GOODS"==e)return}else this.jump_id=""},handleChange:function(e){this.jump_id=e[e.length-1]},remoteMethod:function(e){var t=this;""!==e?(this.loading=!0,this.$http.get("/manage/goods/lists",{params:{page:1,rows:1e6,keywords:e}}).then(function(e){t.goodOptions=e.data.list,t.loading=!1})):this.goodOptions=[]},goodChangeValue:function(e){this.jump_id=e}},created:function(){},mounted:function(){}},u=o,c=(a("4167"),a("2877")),d=Object(c["a"])(u,r,n,!1,null,"1befce36",null),h=d.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"编辑",width:"600px",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"formName",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"跳转类型",prop:"select","label-width":e.formLabelWidth}},[a("el-select",{on:{change:e.theTypeChange},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},e._l(e.selectList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),"LIST"===e.select?a("el-form-item",{attrs:{label:"选择分类",prop:"classOption","label-width":e.formLabelWidth}},[a("el-cascader",{attrs:{options:e.classOption,"change-on-select":"",props:e.classProps,clearable:""},on:{change:e.handleChange},model:{value:e.classValue,callback:function(t){e.classValue=t},expression:"classValue"}})],1):e._e(),"GOODS"===e.select?a("el-form-item",{attrs:{label:"选择商品",prop:"searchValue","label-width":e.formLabelWidth}},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":e.remoteMethod,loading:e.loading},on:{change:e.goodChangeValue},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}},e._l(e.goodOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1):e._e(),a("el-form-item",{attrs:{label:"排序权重",prop:"value255","label-width":e.formLabelWidth}},[a("div",{staticClass:"block"},[a("el-slider",{attrs:{min:0,max:255},model:{value:e.value255,callback:function(t){e.value255=t},expression:"value255"}})],1)]),a("el-form-item",{staticStyle:{"margin-left":"50px"},attrs:{label:"添加图片"}},[a("label",{staticStyle:{display:"block",height:"100px",width:"100px",border:"1px dashed #666",cursor:"pointer","margin-left":"70px"},attrs:{for:"files"}},[e.newurl?e._e():a("p",{staticStyle:{margin:"30px 0 0 15px"}},[e._v("\n          选择图片\n          "),a("i",{staticClass:"el-icon-plus"})]),a("img",{staticStyle:{height:"100px",width:"100px"},attrs:{src:e.newurl,alt:""}})]),a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"files"},on:{change:e.fileChange}})])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sure("formName")}}},[e._v("确 定")])],1)],1)},p=[],m=(a("a481"),{components:{},props:{},data:function(){return{type:"",classOption:[],classValue:[],classProps:{value:"id",label:"name",children:"children"},searchValue:"",loading:!1,goodOptions:[],jump_id:"",id:"",url:"",newurl:"",select:"",selectList:[{label:"分类",value:"CATES"},{label:"列表",value:"LIST"},{label:"商品",value:"GOODS"}],value255:255,dialogFormVisible:!1,form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:"",value255:255,select:"",jump_id:"",classValue:"",searchValue:""},formLabelWidth:"120px",rules:{jump_id:[{required:!0,message:"请输入跳转对象id",trigger:"blur"}],select:[{required:!0,message:"请选择跳转类型",trigger:"blur"}],classValue:[{required:!0,message:"请选择分类",trigger:"blur"}],searchValue:[{required:!0,message:"请选择商品",trigger:"blur"}],value255:[{required:!0,message:"请选择权重",trigger:"blur"}]}}},watch:{dialogFormVisible:function(e){e&&this.getClass()}},computed:{},methods:{sure:function(e){var t=this;this.form.value255=this.value255,this.form.select=this.select,this.form.jump_id=this.jump_id,this.form.classValue=this.classValue,this.form.searchValue=this.searchValue,this.$refs[e].validate(function(a){if(!a)return!1;t.$http.post("/Manage/advert/edit",{id:t.id,type:"ADVERT",thumb:t.newurl.replace("https://bufeishenghuo.com",""),sort:t.value255,jump_type:t.select,jump_id:t.jump_id}).then(function(a){t.dialogFormVisible=!1,t.$emit("filterChange"),t.$refs[e].resetFields(),t.$message({showClose:!0,message:"新增成功",type:"success"})})})},fileChange:function(e){var t=this,a=new FormData;a.append("file",e.currentTarget.files[0]),this.$http.post("/manage/image/upload",a).then(function(e){t.url=e.data.filepath,t.newurl=e.data.urlpath})},getClass:function(){var e=this;this.$http.get("/Manage/Category/lists").then(function(t){e.classOption=t.data.list})},theTypeChange:function(e){if(this.type=e,"LIST"==e)this.getClass();else{if("CATES"==e)return void(this.jump_id="");if("GOODS"==e)return}},handleChange:function(e){this.jump_id=e[e.length-1]},remoteMethod:function(e){var t=this;""!==e?(this.loading=!0,this.$http.get("/manage/goods/lists",{params:{page:1,rows:1e6,keywords:e}}).then(function(e){t.goodOptions=e.data.list,t.loading=!1})):this.goodOptions=[]},goodChangeValue:function(e){this.jump_id=e}},created:function(){},mounted:function(){}}),g=m,b=(a("af7f"),Object(c["a"])(g,f,p,!1,null,"55f3bc58",null)),v=b.exports,y=(a("c5db"),{components:{BasePagination:s["a"],add:h,edit:v},data:function(){return{formShow:!1,sltItem:{},tableData:[],maxPage:1,nowPage:1}},watch:{},methods:{search:function(e){},filterChange:function(){this.getdata()},add:function(){this.$refs.add.dialogFormVisible=!0},open:function(e){console.log(e),this.$refs.edit.dialogFormVisible=!0,this.$refs.edit.select=e.jump_type,this.$refs.edit.value255=e.sort,this.$refs.edit.newurl=e.picurl,this.$refs.edit.id=e.id,this.$refs.edit.classValue=e.jump_id},removeTodo:function(e){var t=this;this.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.post("/Manage/advert/del",{id:e}).then(function(e){t.getdata(),t.$message({type:"success",message:"删除成功!"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},getdata:function(){var e=this;this.$http.get("/Manage/advert/lists",{params:{type:"ADVERT"}}).then(function(t){e.tableData=t.data.list})}},created:function(){this.getdata()}}),_=y,V=(a("b912"),Object(c["a"])(_,l,i,!1,null,"30ecc34b",null));t["default"]=V.exports},a423:function(e,t,a){},a481:function(e,t,a){"use strict";var l=a("cb7c"),i=a("4bf8"),s=a("9def"),r=a("4588"),n=a("0390"),o=a("5f1b"),u=Math.max,c=Math.min,d=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,p=function(e){return void 0===e?e:String(e)};a("214f")("replace",2,function(e,t,a,m){return[function(l,i){var s=e(this),r=void 0==l?void 0:l[t];return void 0!==r?r.call(l,s,i):a.call(String(s),l,i)},function(e,t){var i=m(a,e,this,t);if(i.done)return i.value;var d=l(e),h=String(this),f="function"===typeof t;f||(t=String(t));var b=d.global;if(b){var v=d.unicode;d.lastIndex=0}var y=[];while(1){var _=o(d,h);if(null===_)break;if(y.push(_),!b)break;var V=String(_[0]);""===V&&(d.lastIndex=n(h,s(d.lastIndex),v))}for(var w="",x=0,C=0;C<y.length;C++){_=y[C];for(var S=String(_[0]),$=u(c(r(_.index),h.length),0),k=[],j=1;j<_.length;j++)k.push(p(_[j]));var O=_.groups;if(f){var T=[S].concat(k,$,h);void 0!==O&&T.push(O);var L=String(t.apply(void 0,T))}else L=g(S,h,$,k,O,t);$>=x&&(w+=h.slice(x,$)+L,x=$+S.length)}return w+h.slice(x)}];function g(e,t,l,s,r,n){var o=l+e.length,u=s.length,c=f;return void 0!==r&&(r=i(r),c=h),a.call(n,c,function(a,i){var n;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,l);case"'":return t.slice(o);case"<":n=r[i.slice(1,-1)];break;default:var c=+i;if(0===c)return a;if(c>u){var h=d(c/10);return 0===h?a:h<=u?void 0===s[h-1]?i.charAt(1):s[h-1]+i.charAt(1):a}n=s[c-1]}return void 0===n?"":n})}})},af7f:function(e,t,a){"use strict";var l=a("3347"),i=a.n(l);i.a},b912:function(e,t,a){"use strict";var l=a("a423"),i=a.n(l);i.a},c5db:function(e,t,a){},ece8:function(e,t,a){}}]);