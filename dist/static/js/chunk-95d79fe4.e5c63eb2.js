(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-95d79fe4"],{"386d":function(e,t,a){"use strict";var n=a("cb7c"),o=a("83a1"),i=a("5f1b");a("214f")("search",1,function(e,t,a,r){return[function(a){var n=e(this),o=void 0==a?void 0:a[t];return void 0!==o?o.call(a,n):new RegExp(a)[t](String(n))},function(e){var t=r(a,e,this);if(t.done)return t.value;var s=n(e),l=String(this),d=s.lastIndex;o(d,0)||(s.lastIndex=0);var c=i(s,l);return o(s.lastIndex,d)||(s.lastIndex=d),null===c?-1:c.index}]})},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"94b7":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"input"},[a("el-input",{attrs:{clearable:"",placeholder:"请输入关键词"},on:{clear:e.filterChange},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("el-button",{attrs:{type:"text"},on:{click:e.filterChange}},[e._v("搜 索")]),a("div",{attrs:{space:""}}),a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("新 增")])],1),a("el-table",{staticClass:"c-table",attrs:{data:e.tableData,border:"","m-b-10":""}},[a("el-table-column",{attrs:{label:"品牌名称"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.name))]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.removeEdit(n)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"small",type:"danger",disabled:1==n.is_sel},on:{click:function(t){return e.removeTodo(n.id)}}},[e._v("删除")])]}}])})],1),a("BasePagination",{attrs:{max:e.maxPage,now:e.nowPage},on:{"update:now":function(t){e.nowPage=t}}})],1),a("add",{ref:"add",on:{filterChange:e.filterChange}}),a("edit",{ref:"edit",on:{filterChange:e.filterChange}})],1)},o=[],i=(a("386d"),a("5176")),r=a.n(i),s=a("dd87"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"添加",visible:e.dialogFormVisible,width:"800px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"formName",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"品牌名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sure("formName")}}},[e._v("确 定")])],1)],1)},d=[],c=(a("7f7f"),{components:{},props:{},data:function(){return{dialogFormVisible:!1,form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},formLabelWidth:"120px",rules:{name:[{required:!0,message:"请输入品牌名称",trigger:"blur"}]}}},watch:{},computed:{},methods:{sure:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.$http.post("/manage/brand/add",{name:t.form.name}).then(function(e){t.$emit("filterChange"),t.dialogFormVisible=!1,t.$message({showClose:!0,message:"新增成功",type:"success"})})})}},created:function(){},mounted:function(){}}),u=c,f=a("2877"),m=Object(f["a"])(u,l,d,!1,null,"3eb87a08",null),h=m.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"编辑",visible:e.dialogFormVisible,width:"800px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"formName",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"品牌名称","label-width":e.formLabelWidth,prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sure("formName")}}},[e._v("确 定")])],1)],1)},p=[],b={components:{},props:{},data:function(){return{id:"",dialogFormVisible:!1,form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},formLabelWidth:"120px",rules:{name:[{required:!0,message:"请输入品牌名称",trigger:"blur"}]}}},watch:{},computed:{},methods:{sure:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.$http.post("/manage/brand/edit",{id:t.id,name:t.form.name}).then(function(e){t.$emit("filterChange"),t.dialogFormVisible=!1,t.$message({showClose:!0,message:"编辑成功",type:"success"})})})}},created:function(){},mounted:function(){}},v=b,w=Object(f["a"])(v,g,p,!1,null,"2d791fd9",null),x=w.exports,y={components:{BasePagination:s["a"],add:h,edit:x},data:function(){return{showModal:!1,tableData:[],search:"",maxPage:1,nowPage:1}},watch:{nowPage:function(){this.getdata()}},methods:{filterChange:function(){1===this.nowPage?this.getdata():this.nowPage=1},add:function(){this.$refs.add.dialogFormVisible=!0},removeEdit:function(e){this.$refs.edit.dialogFormVisible=!0,this.$refs.edit.id=e.id;var t=r()({},e);this.$refs.edit.form=t},removeTodo:function(e){var t=this;this.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.post("/manage/brand/del",{id:e}).then(function(e){t.getdata(),t.$message({type:"success",message:"删除成功!"})}).catch(function(){})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},getdata:function(){var e=this;this.$http.get("/Manage/brand/lists",{params:{page:this.nowPage,rows:10,keywords:this.search}}).then(function(t){e.tableData=t.data.list,e.maxPage=t.data.page_total})}},created:function(){this.getdata()}},$=y,_=Object(f["a"])($,n,o,!1,null,"be9ea484",null);t["default"]=_.exports}}]);